{"remainingRequest":"/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/node_modules/babel-loader/lib/index.js!/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/src/App.vue","mtime":1656150356174},{"path":"/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/babel.config.js","mtime":1656150356173},{"path":"/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/node_modules/cache-loader/dist/cjs.js","mtime":1656152389617},{"path":"/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/node_modules/babel-loader/lib/index.js","mtime":1656152389635},{"path":"/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/node_modules/cache-loader/dist/cjs.js","mtime":1656152389617},{"path":"/Users/centr/Desktop/URLShortener/APIGatewayWithoutLambda/amazon-api-gateway-url-shortener/amazon-api-gateway-url-shortener/client/node_modules/vue-loader/lib/index.js","mtime":1656152389487}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NlbnRyL0Rlc2t0b3AvVVJMU2hvcnRlbmVyL0FQSUdhdGV3YXlXaXRob3V0TGFtYmRhL2FtYXpvbi1hcGktZ2F0ZXdheS11cmwtc2hvcnRlbmVyL2FtYXpvbi1hcGktZ2F0ZXdheS11cmwtc2hvcnRlbmVyL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2NlbnRyL0Rlc2t0b3AvVVJMU2hvcnRlbmVyL0FQSUdhdGV3YXlXaXRob3V0TGFtYmRhL2FtYXpvbi1hcGktZ2F0ZXdheS11cmwtc2hvcnRlbmVyL2FtYXpvbi1hcGktZ2F0ZXdheS11cmwtc2hvcnRlbmVyL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL2NlbnRyL0Rlc2t0b3AvVVJMU2hvcnRlbmVyL0FQSUdhdGV3YXlXaXRob3V0TGFtYmRhL2FtYXpvbi1hcGktZ2F0ZXdheS11cmwtc2hvcnRlbmVyL2FtYXpvbi1hcGktZ2F0ZXdheS11cmwtc2hvcnRlbmVyL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOyAvLyBTZXQgQ29nbml0byBWYXJzCgp2YXIgY2xpZW50SWQgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0NMSUVOVF9JRDsKdmFyIGF1dGhEb21haW4gPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FVVEhfRE9NQUlOOwp2YXIgcXVlcnlTdHJpbmdQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwp2YXIgY29nbml0b0NvZGUgPSBxdWVyeVN0cmluZ1BhcmFtcy5nZXQoImNvZGUiKSB8fCBudWxsOwp2YXIgbG5mID0gcXVlcnlTdHJpbmdQYXJhbXMuZ2V0KCJsbmYiKSB8fCBudWxsOwp2YXIgcmVkVXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhcHAiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcHBOYW1lOiAiTWFnaWMgIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9OQU1FKSwKICAgICAgc2lnblVwVXJsOiAiIi5jb25jYXQoYXV0aERvbWFpbiwgIi9zaWdudXA/cmVzcG9uc2VfdHlwZT1jb2RlJmNsaWVudF9pZD0iKS5jb25jYXQoY2xpZW50SWQsICImcmVkaXJlY3RfdXJpPSIpLmNvbmNhdChyZWRVcmwpLAogICAgICBsb2dJblVybDogIiIuY29uY2F0KGF1dGhEb21haW4sICIvbG9naW4/cmVzcG9uc2VfdHlwZT1jb2RlJmNsaWVudF9pZD0iKS5jb25jYXQoY2xpZW50SWQsICImcmVkaXJlY3RfdXJpPSIpLmNvbmNhdChyZWRVcmwpLAogICAgICBsb2dPdXRVcmw6ICIiLmNvbmNhdChhdXRoRG9tYWluLCAiL2xvZ291dD9jbGllbnRfaWQ9IikuY29uY2F0KGNsaWVudElkLCAiJmxvZ291dF91cmk9IikuY29uY2F0KHJlZFVybCksCiAgICAgIGxpbmtOb3RGb3VuZDogbG5mLAogICAgICBpc09wZW46IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmIChjb2duaXRvQ29kZSkgdGhpcy5leGNoYW5nZVRva2VuKCk7ZWxzZSB0aGlzLmV4Y2hhbmdlUmVmcmVzaFRva2VuKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb252ZXJ0SlNPTjogZnVuY3Rpb24gY29udmVydEpTT04oanNvbikgewogICAgICB2YXIgb0F1dGhUb2tlbkJvZHlBcnJheSA9IE9iamVjdC5lbnRyaWVzKGpzb24pLm1hcChmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgICBrZXkgPSBfcmVmMlswXSwKICAgICAgICAgICAgdmFsdWUgPSBfcmVmMlsxXTsKCiAgICAgICAgdmFyIGVuY29kZWRLZXkgPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KTsKICAgICAgICB2YXIgZW5jb2RlZFZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KGVuY29kZWRLZXksICI9IikuY29uY2F0KGVuY29kZWRWYWx1ZSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gb0F1dGhUb2tlbkJvZHlBcnJheS5qb2luKCImIik7CiAgICB9LAogICAgZXhjaGFuZ2VSZWZyZXNoVG9rZW46IGZ1bmN0aW9uIGV4Y2hhbmdlUmVmcmVzaFRva2VuKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG9hdXRoVG9rZW5Cb2R5SnNvbiA9IHsKICAgICAgICBncmFudF90eXBlOiAicmVmcmVzaF90b2tlbiIsCiAgICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCwKICAgICAgICByZWZyZXNoX3Rva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY29nbml0b1JlZnJlc2hUb2tlbiIpCiAgICAgIH07CiAgICAgIHZhciBvYXV0aFRva2VuQm9keSA9IHRoaXMuY29udmVydEpTT04ob2F1dGhUb2tlbkJvZHlKc29uKTsKCiAgICAgIGlmIChvYXV0aFRva2VuQm9keUpzb24ucmVmcmVzaF90b2tlbikgewogICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChhdXRoRG9tYWluLCAiL29hdXRoMi90b2tlbiIpLCBvYXV0aFRva2VuQm9keSwgX2RlZmluZVByb3BlcnR5KHt9LCAiQ29udGVudC1UeXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIGpzb24gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgIGlmIChqc29uLmlkX3Rva2VuKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjb2duaXRvSWRlbnRpdHlUb2tlbiIsIGpzb24uaWRfdG9rZW4pOwoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgiYXV0aG9yaXplIik7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgiZGVBdXRob3JpemUiKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgcmV0dXJuIHJlcyh7fSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBleGNoYW5nZVRva2VuOiBmdW5jdGlvbiBleGNoYW5nZVRva2VuKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBvYXV0aFRva2VuQm9keUpzb24gPSB7CiAgICAgICAgZ3JhbnRfdHlwZTogImF1dGhvcml6YXRpb25fY29kZSIsCiAgICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCwKICAgICAgICBjb2RlOiBjb2duaXRvQ29kZSwKICAgICAgICByZWRpcmVjdF91cmk6IHJlZFVybAogICAgICB9OwogICAgICB2YXIgb2F1dGhUb2tlbkJvZHkgPSB0aGlzLmNvbnZlcnRKU09OKG9hdXRoVG9rZW5Cb2R5SnNvbik7CiAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChhdXRoRG9tYWluLCAiL29hdXRoMi90b2tlbiIpLCBvYXV0aFRva2VuQm9keSwgX2RlZmluZVByb3BlcnR5KHt9LCAiQ29udGVudC1UeXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBqc29uID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKGpzb24uaWRfdG9rZW4pIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjb2duaXRvSWRlbnRpdHlUb2tlbiIsIGpzb24uaWRfdG9rZW4pOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNvZ25pdG9SZWZyZXNoVG9rZW4iLCBqc29uLnJlZnJlc2hfdG9rZW4pOwoKICAgICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCJhdXRob3JpemUiKTsKICAgICAgICB9CgogICAgICAgIHZhciBxdWVyeSA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMi4kcm91dGUucXVlcnkpOwogICAgICAgIGRlbGV0ZSBxdWVyeS5jb2RlOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoImRlQXV0aG9yaXplIik7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY29nbml0b0lkZW50aXR5VG9rZW4iLCBudWxsKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNvZ25pdG9SZWZyZXNoVG9rZW4iLCBudWxsKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbImF1dGhvcml6ZWQiXSkpCn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA,0B,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA,WADA;EAEAC,IAFA,kBAEA;IACA;MACAC,kDADA;MAEAC,2HAFA;MAGAC,yHAHA;MAIAC,sGAJA;MAKAC,iBALA;MAMAC;IANA;EAQA,CAXA;EAYAC,OAZA,qBAYA;IACA,2CACA;EACA,CAfA;EAgBAC;IACAC;MACA;QAAA;QAAA;QAAA;;QACA;QACA;QACA;MACA,CAJA;MAKA;IACA,CARA;IASAC;MAAA;;MACA;QACAC,2BADA;QAEAC,mBAFA;QAGAC;MAHA;MAKA;;MAEA;QACA,aACAC,IADA,WACAC,UADA,oBACAC,cADA,sBAEA,cAFA,EAEA,mCAFA,GAIAC,IAJA,CAIA;UACA;;UACA;YACAC;;YACA;UACA;QACA,CAVA,EAWAC,KAXA,CAWA;UACA;QACA,CAbA;MAcA,CAfA,MAeA;QACA;UACA;QACA,CAFA;MAGA;IACA,CArCA;IAsCAC;MAAA;;MACA;QACAT,gCADA;QAEAC,mBAFA;QAGAS,iBAHA;QAIAC;MAJA;MAMA;MAEA,aACAR,IADA,WACAC,UADA,oBACAC,cADA,sBAEA,cAFA,EAEA,mCAFA,GAIAC,IAJA,CAIA;QACA;;QACA;UACAC;UACAA;;UACA;QACA;;QACA;QACA;;QACA;UAAAK;QAAA;MACA,CAdA,EAeAJ,KAfA,CAeA;QACA;MACA,CAjBA;IAkBA,CAjEA;IAkEAK;MACAN;MACAA;IACA;EArEA,CAhBA;EAuFAO,4BACAC,wBADA;AAvFA","names":["name","data","appName","signUpUrl","logInUrl","logOutUrl","linkNotFound","isOpen","created","methods","convertJSON","exchangeRefreshToken","grant_type","client_id","refresh_token","post","authDomain","oauthTokenBody","then","localStorage","catch","exchangeToken","code","redirect_uri","query","logout","computed","mapState"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<!-- Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\nSPDX-License-Identifier: MIT-0\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this\nsoftware and associated documentation files (the \"Software\"), to deal in the Software\nwithout restriction, including without limitation the rights to use, copy, modify,\nmerge, publish, distribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\nINCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\nPARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->\n\n<template>\n  <div id=\"app\">\n    <section class=\"section\">\n      <nav\n        class=\"navbar is-fixed-top is-dark\"\n        role=\"navigation\"\n        aria-label=\"main navigation\"\n      >\n        <div class=\"navbar-brand\">\n          <div class=\"navbar-item\">\n            <h1 class=\"title has-text-white\">{{ appName }}</h1>\n          </div>\n          <a\n            role=\"button\"\n            class=\"navbar-burger burger\"\n            aria-label=\"menu\"\n            aria-expanded=\"false\"\n            data-target=\"navbarCollapse\"\n            v-bind:class=\"{ 'is-active': isOpen }\"\n            @click=\"isOpen = !isOpen\"\n          >\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n          </a>\n        </div>\n\n        <div\n          id=\"navbarCollapse\"\n          class=\"navbar-menu\"\n          v-bind:class=\"{ 'is-active': isOpen }\"\n        >\n          <div class=\"navbar-start\">\n            <!-- <router-link class=\"navbar-item\" to=\"/\">Dashboard</router-link> -->\n          </div>\n\n          <div class=\"navbar-end\">\n            <a\n              class=\"navbar-item\"\n              v-if=\"authorized\"\n              v-on:click=\"logout()\"\n              v-bind:href=\"logOutUrl\"\n              >Log Out</a\n            >\n            <a class=\"navbar-item\" v-if=\"!authorized\" v-bind:href=\"signUpUrl\"\n              >Sign up</a\n            >\n            <a class=\"navbar-item\" v-if=\"!authorized\" v-bind:href=\"logInUrl\"\n              >Log in</a\n            >\n          </div>\n        </div>\n      </nav>\n    </section>\n    <section class=\"section\">\n      <div class=\"container\">\n        <div v-if=\"authorized\">\n          <router-view />\n        </div>\n        <div v-else>\n          <h1 class=\"title\">Welcome to {{ appName }}</h1>\n          <h2 class=\"subtitle\">The NEWEST URL shortener on the block.</h2>\n          <p v-if=\"linkNotFound\">\n            We're sorry, that link could not be found.\n            <a v-bind:href=\"signUpUrl\">Sign up</a> or\n            <a v-bind:href=\"logInUrl\">Log in</a> to register it?\n          </p>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport axios from \"axios\";\n\n// Set Cognito Vars\nconst clientId = process.env.VUE_APP_CLIENT_ID;\nconst authDomain = process.env.VUE_APP_AUTH_DOMAIN;\nconst queryStringParams = new URLSearchParams(window.location.search);\nconst cognitoCode = queryStringParams.get(\"code\") || null;\nconst lnf = queryStringParams.get(\"lnf\") || null;\nconst redUrl = window.location.origin;\n\nexport default {\n  name: \"app\",\n  data() {\n    return {\n      appName: `Magic ${process.env.VUE_APP_NAME}`,\n      signUpUrl: `${authDomain}/signup?response_type=code&client_id=${clientId}&redirect_uri=${redUrl}`,\n      logInUrl: `${authDomain}/login?response_type=code&client_id=${clientId}&redirect_uri=${redUrl}`,\n      logOutUrl: `${authDomain}/logout?client_id=${clientId}&logout_uri=${redUrl}`,\n      linkNotFound: lnf,\n      isOpen: false,\n    };\n  },\n  created() {\n    if (cognitoCode) this.exchangeToken();\n    else this.exchangeRefreshToken();\n  },\n  methods: {\n    convertJSON: function (json) {\n      const oAuthTokenBodyArray = Object.entries(json).map(([key, value]) => {\n        const encodedKey = encodeURIComponent(key);\n        const encodedValue = encodeURIComponent(value);\n        return `${encodedKey}=${encodedValue}`;\n      });\n      return oAuthTokenBodyArray.join(\"&\");\n    },\n    exchangeRefreshToken: function () {\n      const oauthTokenBodyJson = {\n        grant_type: \"refresh_token\",\n        client_id: clientId,\n        refresh_token: localStorage.getItem(\"cognitoRefreshToken\"),\n      };\n      const oauthTokenBody = this.convertJSON(oauthTokenBodyJson);\n\n      if (oauthTokenBodyJson.refresh_token) {\n        return axios\n          .post(`${authDomain}/oauth2/token`, oauthTokenBody, {\n            [\"Content-Type\"]: \"application/x-www-form-urlencoded\",\n          })\n          .then((response) => {\n            let json = response.data;\n            if (json.id_token) {\n              localStorage.setItem(\"cognitoIdentityToken\", json.id_token);\n              this.$store.commit(\"authorize\");\n            }\n          })\n          .catch(() => {\n            this.$store.commit(\"deAuthorize\");\n          });\n      } else {\n        return new Promise((res) => {\n          return res({});\n        });\n      }\n    },\n    exchangeToken: function () {\n      const oauthTokenBodyJson = {\n        grant_type: \"authorization_code\",\n        client_id: clientId,\n        code: cognitoCode,\n        redirect_uri: redUrl,\n      };\n      const oauthTokenBody = this.convertJSON(oauthTokenBodyJson);\n\n      return axios\n        .post(`${authDomain}/oauth2/token`, oauthTokenBody, {\n          [\"Content-Type\"]: \"application/x-www-form-urlencoded\",\n        })\n        .then((response) => {\n          let json = response.data;\n          if (json.id_token) {\n            localStorage.setItem(\"cognitoIdentityToken\", json.id_token);\n            localStorage.setItem(\"cognitoRefreshToken\", json.refresh_token);\n            this.$store.commit(\"authorize\");\n          }\n          let query = Object.assign({}, this.$route.query);\n          delete query.code;\n          this.$router.replace({ query });\n        })\n        .catch(() => {\n          this.$store.commit(\"deAuthorize\");\n        });\n    },\n    logout: function () {\n      localStorage.setItem(\"cognitoIdentityToken\", null);\n      localStorage.setItem(\"cognitoRefreshToken\", null);\n    },\n  },\n  computed: {\n    ...mapState([\"authorized\"]),\n  },\n};\n</script>\n"]}]}